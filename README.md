# 🎥 YouTube Live 複数同時視聴サイト

複数のYouTube動画やライブ配信を同時に視聴できるWebアプリケーションです。バックエンドは不要で、フロントエンドのみで動作します。

## 📋 機能

- **複数動画の同時再生**: 複数のYouTube動画を同時に視聴可能
- **Channel ID対応**: チャンネルIDを入力すると自動的に現在のライブ配信を検出
- **設定画面**: 統合された設定画面でAPIキー、更新間隔、再生設定などを一元管理
- **自動更新機能**: 1分〜30分の間で更新間隔を設定可能
- **重複チェック機能**: 更新時に同じライブ配信が複数表示されている場合、自動的に1つにまとめる
- **終了配信の自動削除**: 終了したライブ配信を自動的に非表示にする機能（ON/OFF可能）
- **ライブステータス表示**: 配信中、予定、終了などのステータスを視覚的に表示（ON/OFF可能）
- **自動再生設定**: 自動再生とミュートのON/OFFを個別に設定可能
- **柔軟なレイアウト**: グリッド、縦並び、横並び、ピクチャーインピクチャーから選択
- **簡単な動画追加**: URLまたは動画IDを入力するだけで追加
- **個別削除機能**: 各動画に削除ボタンを配置
- **レスポンシブデザイン**: PC、タブレット、スマートフォンに対応
- **自動保存機能**: ページをリロードしても設定と動画リストを保持
- **プリセット機能**: よく使う動画の組み合わせを簡単に読み込み

## 🚀 使い方

### 設定画面

右上の⚙️ボタンをクリックして設定画面を開きます。以下の設定が可能です：

1. **YouTube Data API**
   - APIキーの入力と保存
   
2. **自動更新**
   - 更新間隔を1分、3分、5分、10分、15分、30分から選択

3. **再生設定**
   - 自動再生の有効/無効
   - 自動ミュートの有効/無効

4. **表示設定**
   - ライブステータスバッジの表示/非表示
   - 終了した配信の自動削除（ON/OFF可能）

### YouTube Data APIキーの取得

Channel ID機能を使用するには、YouTube Data API v3のAPIキーが必要です：

1. [Google Cloud Console](https://console.cloud.google.com/)にアクセス
2. 新しいプロジェクトを作成（または既存のプロジェクトを選択）
3. 「APIとサービス」→「ライブラリ」を開く
4. 「YouTube Data API v3」を検索して有効化
5. 「認証情報」→「認証情報を作成」→「APIキー」を選択
6. 作成されたAPIキーをコピー
7. アプリの右上⚙️ボタンから設定画面を開き、APIキーを入力して保存

### 基本的な使い方

1. **動画の追加（URL/動画ID）**
   - YouTube動画のURLまたは動画ID（11文字）を入力フィールドに入力
   - 「追加」ボタンをクリック、またはEnterキーを押す

2. **チャンネルの追加（Channel ID）**
   - YouTube Data APIキーを保存（上記参照）
   - Channel IDを入力フィールドに入力
   - 「チャンネル追加」ボタンをクリック
   - 現在のライブ配信が自動的に検出され追加されます
   - 配信がない場合は待機状態となり、定期的にチェックされます

3. **動画の削除**
   - 各動画プレイヤーの右上にある「×」ボタンをクリック
   - 「全てクリア」ボタンで全動画を一括削除

4. **レイアウト変更**
   - **グリッド**: 均等に配置（列数を1〜4から選択可能）
   - **縦並び**: 動画を縦に並べて表示
   - **横並び**: 動画を横に並べて表示
   - **ピクチャーインピクチャー**: メイン動画の上に小さく表示

5. **自動再生について**
   - 動画は追加時に自動的にミュート状態で再生されます
   - 音声を聞きたい場合は、各動画プレイヤーのミュートボタンをクリックして解除してください
   - ブラウザのポリシーにより、ユーザー操作なしで音声付き自動再生はできません

### ライブステータス表示

- 🔴 **配信中**: 現在ライブ配信中
- 🔔 **予定**: ライブ配信が予定されている
- ⏹️ **終了**: ライブ配信が終了した

### 対応するURL形式

- 通常の動画URL: `https://www.youtube.com/watch?v=VIDEO_ID`
- ライブURL: `https://www.youtube.com/live/VIDEO_ID`
- 短縮URL: `https://youtu.be/VIDEO_ID`
- 動画ID: `VIDEO_ID` (11文字)
- Channel ID: `UC...` (24文字、UCで始まる)

## 🛠️ セットアップ

### 必要な環境

- モダンなWebブラウザ（Chrome、Firefox、Edge、Safari等）
- インターネット接続

### インストール

1. リポジトリをクローンまたはダウンロード
```bash
git clone <repository-url>
cd YouTube_Live
```

2. ブラウザでindex.htmlを開く
```bash
# Windowsの場合
start index.html

# macOS/Linuxの場合
open index.html
```

または、ローカルサーバーを起動:
```bash
# Pythonを使用する場合
python -m http.server 8000

# Node.jsのhttp-serverを使用する場合
npx http-server
```

ブラウザで `http://localhost:8000` にアクセス

## 📁 ファイル構成

```
YouTube_Live/
├── index.html      # メインHTMLファイル
├── styles.css      # スタイルシート
├── script.js       # JavaScript（機能実装）
└── README.md       # このファイル
```

## 🎨 カスタマイズ

### 色の変更

`styles.css`の以下の部分を編集:

```css
body {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.btn-primary {
    background: #667eea;
}
```

### デフォルトのレイアウト

`script.js`で初期レイアウトを変更:

```javascript
let currentLayout = 'grid';  // 'grid', 'vertical', 'horizontal', 'pip'
let gridColumns = 2;         // グリッドの列数
```

### プリセットの追加

`script.js`に新しいプリセット関数を追加:

```javascript
function loadPreset3() {
    videos = [
        'VIDEO_ID_1',
        'VIDEO_ID_2',
        'VIDEO_ID_3'
    ];
    renderVideos();
}
```

`index.html`にボタンを追加:

```html
<button onclick="loadPreset3()" class="btn-secondary">カスタムプリセット</button>
```

## 🔧 技術スタック

- **HTML5**: マークアップ
- **CSS3**: スタイリング（Grid Layout、Flexbox使用）
- **JavaScript (ES6+)**: 機能実装
- **YouTube IFrame Player API**: 動画の埋め込みと再生制御
- **YouTube Data API v3**: チャンネルのライブ配信情報取得
- **LocalStorage**: 設定の永続化

## ⚙️ 自動更新の仕組み

- Channel IDから追加された配信は、設定した間隔で自動的にチェックされます（デフォルト5分）
- 更新間隔は設定画面から1分〜30分の間で変更可能
- 新しいライブ配信が開始されると自動的に切り替わります
- 配信が終了すると：
  - **自動削除ON（デフォルト）**: 即座に動画を削除し非表示
  - **自動削除OFF**: 次の配信を待機状態になるが動画は表示され続ける
- **重複チェック**: 更新時に同じ動画IDが複数表示されている場合、自動的に1つにまとめられます
- 複数のチャンネルが同じライブ配信を行っている場合も、重複が自動削除されます
- ページを閉じても設定は保存され、次回起動時に自動更新が再開されます

## 📝 注意事項

- YouTube動画の埋め込みが許可されていない動画は表示できません
- YouTube Data API v3には1日あたりのクォータ制限があります（デフォルト10,000ユニット/日）
- 多数の動画を同時再生すると、PCのリソースを消費します
- インターネット接続が必要です
- 一部の動画は地域制限により視聴できない場合があります
- APIキーは安全に管理してください（公開リポジトリにコミットしないこと）

## 🌟 今後の改善案

- [x] YouTube Data APIを使用したChannel ID対応
- [x] 自動更新機能
- [x] ライブステータス表示
- [ ] YouTube Data APIを使用した検索機能
- [ ] ドラッグ&ドロップでの並び替え
- [ ] 音量の個別調整
- [ ] チャット表示機能
- [ ] プリセットの保存・読み込み機能の強化
- [ ] ダークモード対応
- [ ] 更新間隔のカスタマイズ

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 貢献

バグ報告や機能リクエストは、Issueで受け付けています。
プルリクエストも歓迎します！

---

**Enjoy watching multiple YouTube streams! 🎉**
